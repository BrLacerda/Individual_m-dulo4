CREATE DATABASE Resilia;

CREATE TABLE alunos (
  id_aluno int NOT NULL,
  nome varchar(255) NOT NULL,
  idade int DEFAULT NULL,
  cpf varchar(11) DEFAULT NULL,
  email varchar(255) DEFAULT NULL,
  turma int NOT NULL,
  PRIMARY KEY (id_aluno),
  UNIQUE KEY id_aluno_UNIQUE (id_aluno)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE cursos (
  id_curso int NOT NULL,
  curso varchar(255) NOT NULL,
  PRIMARY KEY (id_curso),
  UNIQUE KEY curso_UNIQUE (curso)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


CREATE TABLE professores (
  id int NOT NULL,
  nome varchar(255) NOT NULL,
  curso varchar(255) NOT NULL,
  idade int DEFAULT NULL,
  cpf varchar(11) NOT NULL,
  email varchar(255) DEFAULT NULL,
  PRIMARY KEY (id),
  KEY curso_idx (curso)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE turmas (
  turma int NOT NULL,
  qntd_alunos int DEFAULT NULL,
  id_prof int NOT NULL,
  id_curso int NOT NULL,
  PRIMARY KEY (turma),
  KEY id_prof (id_prof),
  KEY id_curso (id_curso),
  CONSTRAINT id_curso FOREIGN KEY (id_curso) REFERENCES cursos (id_curso),
  CONSTRAINT id_prof FOREIGN KEY (id_prof) REFERENCES professores (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
